!function($){"use strict";var e={basil:new window.Basil,rowColObj:{},init:function(){var a="ontouchstart"in document.documentElement;a?$(".breadcrumb-wrapper .dropdown-wrapper select, .page-title-wrapper .dropdown-wrapper select").remove():(e.sortableInit(),$(".ui-sortable-handle").on("click",e.clickOnPanel))},sortableInit:function(){for(var a=$(".content > .row"),t=0,r=0;r<a.length;r++){a.eq(r).attr("data-row-id",r);for(var o=a.eq(r).attr("data-row-id"),l=a.eq(r).find(">"),n="",i=0;i<l.length;i++){l.eq(i).attr("data-col-id",t);var d=l.eq(i).attr("data-col-id");n+=d+"|",t++}e.rowColObj[o]=n}$(a).sortable({helper:"clone",connectWith:a,handle:".panel:not('.panel-fixed')",placeholder:"panel-placeholder",start:function(e,a){a.placeholder.addClass(a.item.attr("class")).css({height:a.item.height(),top:-parseInt(a.item.find(">").css("margin-bottom"))/2+"px"})},update:function(t,r){for(var o={},l="",n=0;n<a.length;n++){for(var i=a.eq(n).attr("data-row-id"),d=a.eq(n).find(">"),c=0;c<d.length;c++){var p=d.eq(c).attr("data-col-id");l+=p+"|"}o[i]=l,l=""}"on"==e.select2Val(".breadcrumb-wrapper .dropdown-wrapper select, .page-title-wrapper .dropdown-wrapper select")&&e.basil.set("wiseboard",o,{namespace:location.pathname})}}),$(".breadcrumb-wrapper .dropdown-wrapper select, .page-title-wrapper .dropdown-wrapper select").length>0&&("on"==e.select2Val(".breadcrumb-wrapper .dropdown-wrapper select, .page-title-wrapper .dropdown-wrapper select")&&e.dataStore("on"),$(".breadcrumb-wrapper .dropdown-wrapper select, .page-title-wrapper .dropdown-wrapper select").on("change",e.select2ValOnChange))},dataStore:function(a){if("on"==a){var t=e.basil.get("wiseboard",{namespace:location.pathname});if(t)for(var r in t){var o=t[r].split("|");for(var l in o)$('div[data-row-id="'+r+'"]').append($('div[data-col-id="'+o[l]+'"]'))}}else if("reset"==a){for(var r in e.rowColObj){var o=e.rowColObj[r].split("|");for(var l in o)$('div[data-row-id="'+r+'"]').append($('div[data-col-id="'+o[l]+'"]'))}e.basil.remove("wiseboard",{namespace:location.pathname})}},select2Val:function(e){return $(e).val()},select2ValOnChange:function(){var a=e.select2Val($(this));e.dataStore(a),e.blockUIInit($(this).find('[value="'+a+'"]').text())},blockUIInit:function(e){$.blockUI.defaults.timeout=2e3,$.blockUI.defaults.overlayCSS.zIndex=1060,$.blockUI.defaults.overlayCSS.backgroundColor="transparent",$.blockUI.defaults.css.width="auto",$.blockUI.defaults.css.left=0,$.blockUI.defaults.css.right=0,$.blockUI.defaults.css.margin="auto",$.blockUI.defaults.css.border="none",$.blockUI({message:'<h3 class="m-0"><i class="fa fa-check m-right-10 circle p-5" style="vertical-align: middle; font-size: 14px; border: 1px solid #fff"></i><span style="vertical-align: middle">'+e+"</span></h3>",css:{width:"250px",border:"none",padding:"20px","background-color":"#000",opacity:.75,color:"#fff","border-radius":"4px"},timeout:1e3,fadeOut:600})},clickOnPanel:function(e){$(e.target).is(".form-control")||$(e.target).is(".btn")||$(this).find(".form-control, .btn").blur()}};e.init()}(jQuery);